!function(){function t(t,e,i,s){Object.defineProperty(t,e,{get:i,set:s,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},r={},n=i.parcelRequire4f44;function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t}function l(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t){var e=new Image;return e.src=t,e}null==n&&((n=function(t){if(t in s)return s[t].exports;if(t in r){var e=r[t];delete r[t];var i={id:t,exports:{}};return s[t]=i,e.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,e){r[t]=e},i.parcelRequire4f44=n),n.register("Zsba3",(function(e,i){var s,r;t(e.exports,"register",(function(){return s}),(function(t){return s=t})),t(e.exports,"resolve",(function(){return r}),(function(t){return r=t}));var n={};s=function(t){for(var e=Object.keys(t),i=0;i<e.length;i++)n[e[i]]=t[e[i]]},r=function(t){var e=n[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),n.register("bCIEV",(function(e,i){var s;t(e.exports,"getBundleURL",(function(){return s}),(function(t){return s=t}));var r={};function n(t){return(""+t).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}s=function(t){var e=r[t];return e||(e=function(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(t)return n(t[2])}return"/"}(),r[t]=e),e}})),n("Zsba3").register(JSON.parse('{"7NQib":"index.a307ff8e.js","lqL09":"background.92b6e24f.png","krNzZ":"hills.ad7e8040.png","57pQv":"platform.57b92eec.png","bZqnh":"platformSmallTall.8e7b7958.png","1WqxY":"spriteRunLeft.cfa8ad89.png","k49y5":"spriteRunRight.61ec3479.png","1N2h2":"spriteStandLeft.7ea1b02c.png","5mlNf":"spriteStandRight.ed34b4ff.png","bEbCu":"index.2430c73a.css"}'));var p,u=function t(){"use strict";h(this,t),this.left={pressed:!1},this.right={pressed:!1},this.up={pressed:!1}},f=function(){"use strict";function t(e,i){var s=i.x,r=i.y,n=i.image;h(this,t),this.context=e,this.position={x:s,y:r},this.image=n,this.width=n.width,this.height=n.height}return o(t,[{key:"draw",value:function(){this.context.drawImage(this.image,this.position.x,this.position.y)}}]),t}();p=n("bCIEV").getBundleURL("7NQib")+n("Zsba3").resolve("lqL09");var d;d=n("bCIEV").getBundleURL("7NQib")+n("Zsba3").resolve("krNzZ");var y;y=n("bCIEV").getBundleURL("7NQib")+n("Zsba3").resolve("57pQv");var g;g=n("bCIEV").getBundleURL("7NQib")+n("Zsba3").resolve("bZqnh");var v,m=function(){"use strict";function t(e,i){var s=i.x,r=i.y,n=i.image;h(this,t),this.context=e,this.position={x:s,y:r},this.image=n,this.width=n.width,this.height=n.height}return o(t,[{key:"draw",value:function(){this.context.drawImage(this.image,this.position.x,this.position.y)}}]),t}();v=n("bCIEV").getBundleURL("7NQib")+n("Zsba3").resolve("1WqxY");var w;w=n("bCIEV").getBundleURL("7NQib")+n("Zsba3").resolve("k49y5");var b;b=n("bCIEV").getBundleURL("7NQib")+n("Zsba3").resolve("1N2h2");var x;x=n("bCIEV").getBundleURL("7NQib")+n("Zsba3").resolve("5mlNf");var k=function(){"use strict";function t(i,s,r){h(this,t),this.canvas=i,this.context=s,this.gravity=r,this.speed=10,this.jumpHeight=-25,this.position={x:100,y:100},this.velocity={x:0,y:20},this._width=66,this._height=150,this.frames=0,this.sprites={stand:{right:c(e(x)),left:c(e(b)),cropWidth:177,width:66},run:{right:c(e(w)),left:c(e(v)),cropWidth:341,width:127.875}},this.currentSprinte=this.sprites.stand.right,this.currentCropWidth=this.sprites.stand.cropWidth}return o(t,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"draw",value:function(){this.context.drawImage(this.currentSprinte,this.currentCropWidth*this.frames,0,this.currentCropWidth,400,this.position.x,this.position.y,this._width,this.height)}},{key:"update",value:function(){this.frames++,(this.frames>59&&(this.currentSprinte===this.sprites.stand.right||this.currentSprinte===this.sprites.stand.left)||this.frames>29&&(this.currentSprinte===this.sprites.run.right||this.currentSprinte===this.sprites.run.left))&&(this.frames=0),this.draw(),this.position.y+=this.velocity.y,this.position.x+=this.velocity.x,this.position.y+this.height+this.velocity.y<=this.canvas.height&&(this.velocity.y+=this.gravity)}},{key:"jump",value:function(){this.velocity.y=this.jumpHeight}},{key:"spriteSwitching",value:function(t,e){t.right.pressed&&"right"===e&&this.currentSprinte!==this.sprites.run.right?(this.frames=1,this.currentSprinte=this.sprites.run.right,this.currentCropWidth=this.sprites.run.cropWidth,this._width=this.sprites.run.width):t.left.pressed&&"left"===e&&this.currentSprinte!==this.sprites.run.left?(this.frames=1,this.currentSprinte=this.sprites.run.left,this.currentCropWidth=this.sprites.run.cropWidth,this._width=this.sprites.run.width):t.right.pressed||"right"!==e||this.currentSprinte===this.sprites.stand.right?t.left.pressed||"left"!==e||this.currentSprinte===this.sprites.stand.left||(this.frames=1,this.currentSprinte=this.sprites.stand.left,this.currentCropWidth=this.sprites.stand.cropWidth,this._width=this.sprites.stand.width):(this.frames=1,this.currentSprinte=this.sprites.stand.right,this.currentCropWidth=this.sprites.stand.cropWidth,this._width=this.sprites.stand.width)}}]),t}();function S(t,e,i,s,r){null!=i||(i=-1),null!=s||(s=t.floorPlatformYPosition),null!=r||(r=t.platformImage);for(var n=[],h=0;h<e;h++)n.push(new m(t.context,{x:i+h*(r.width-2),y:s,image:r}));return n}new(function(){"use strict";function t(){h(this,t),this.canvas=document.querySelector("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=1024,this.canvas.height=576,this.gravity=1.5,this.platformImage=c(e(y)),this.backgroundImage=c(e(p)),this.hillsImage=c(e(d)),this.platformSmallTallImage=c(e(g)),this.floorPlatformYPosition=470,this.init(),this.animate(),this.subscribeKeys()}return o(t,[{key:"init",value:function(){this.scrollOffset=0,this.playerIsOnTheFloor=!1,this.keys=new u,this.createBackground(),this.createPlatforms(),this.player=new k(this.canvas,this.context,this.gravity)}},{key:"createBackground",value:function(){this.genericObjects=[new f(this.context,{x:-1,y:-1,image:this.backgroundImage}),new f(this.context,{x:-1,y:-1,image:this.hillsImage})]}},{key:"createPlatforms",value:function(){this.platforms=l(S(this,1,400,250,this.platformSmallTallImage)).concat(l(S(this,2)),l(S(this,1,2*this.platformImage.width+350,250,this.platformSmallTallImage)),l(S(this,1,2*this.platformImage.width+300)))}},{key:"animate",value:function(){var t=this;requestAnimationFrame((function(){return t.animate()})),this.context.fillStyle="white",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.genericObjects.forEach((function(t){return t.draw()})),this.platforms.forEach((function(t){return t.draw()})),this.player.update();if(this.keys.right.pressed&&this.player.position.x<400)this.player.velocity.x=this.player.speed;else if(this.keys.left.pressed&&this.player.position.x>100||this.keys.left.pressed&&0===this.scrollOffset&&this.player.position.x>0)this.player.velocity.x=-this.player.speed;else if(this.player.velocity.x=0,this.keys.right.pressed){var e=this;this.scrollOffset+=this.player.speed,this.platforms.forEach((function(t){t.position.x-=e.player.speed})),this.genericObjects.forEach((function(t){t.position.x-=.66*e.player.speed}))}else if(this.keys.left.pressed&&this.scrollOffset>0){var i=this;this.scrollOffset-=this.player.speed,this.platforms.forEach((function(t){t.position.x+=i.player.speed})),this.genericObjects.forEach((function(t){t.position.x+=.66*i.player.speed}))}this.platforms.forEach((function(e){t.player.position.y+t.player.height<=e.position.y&&t.player.position.y+t.player.height+t.player.velocity.y>=e.position.y&&t.player.position.x+t.player.width>=e.position.x&&t.player.position.x<=e.position.x+e.width&&(t.player.velocity.y=0,t.playerIsOnTheFloor=!0)})),this.player.spriteSwitching(this.keys,this.lastKey);this.platformImage.width;this.scrollOffset,this.player.position.y>this.canvas.height&&this.init()}},{key:"subscribeKeys",value:function(){var t=this;window.addEventListener("keydown",(function(e){switch(e.key){case"ArrowLeft":t.keys.left.pressed=!0,t.lastKey="left";break;case"ArrowDown":break;case"ArrowRight":t.keys.right.pressed=!0,t.lastKey="right";break;case"ArrowUp":!t.keys.up.pressed&&t.playerIsOnTheFloor&&(t.playerIsOnTheFloor=!1,t.player.jump()),t.keys.up.pressed=!0}})),window.addEventListener("keyup",(function(e){switch(e.key){case"ArrowLeft":t.keys.left.pressed=!1;break;case"ArrowDown":break;case"ArrowRight":t.keys.right.pressed=!1;break;case"ArrowUp":t.keys.up.pressed=!1}}))}}]),t}())}();
//# sourceMappingURL=index.a307ff8e.js.map
