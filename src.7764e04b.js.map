{"version":3,"sources":["src/game/GameKeys.ts","src/game/GenericObject.ts","src/game/createImage.ts","src/game/levels/Level.ts","src/game/levels/level.1.ts","src/game/Platform.ts","src/game/Player.ts","src/game/Game.ts","src/index.ts"],"names":[],"mappings":"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","file":"src.7764e04b.js","sourceRoot":"..","sourcesContent":["export class GameKeys {\n  left: { pressed: boolean };\n  right: { pressed: boolean };\n  up: { pressed: boolean };\n  constructor() {\n    this.left = { pressed: false };\n    this.right = { pressed: false };\n    this.up = { pressed: false };\n  }\n}\n","export class GenericObject {\n  width: number;\n  height: number;\n  position: { x: number; y: number };\n  image: HTMLImageElement;\n\n  constructor(\n    private context: CanvasRenderingContext2D,\n    { x, y, image }: { x: number; y: number; image: HTMLImageElement }\n  ) {\n    this.position = { x, y };\n    this.image = image;\n    this.width = image.width;\n    this.height = image.height;\n  }\n\n  draw() {\n    this.context.drawImage(this.image, this.position.x, this.position.y);\n  }\n}\n\nexport class Goomba extends GenericObject {\n  velocity: { x: number };\n  direction: 'right' | 'left';\n\n  constructor(\n    context: CanvasRenderingContext2D,\n    private options: {\n      x: number;\n      y: number;\n      image: HTMLImageElement;\n      max_x: number;\n      min_x: number;\n    }\n  ) {\n    super(context, options);\n    this.velocity = { x: 3 };\n    this.direction = 'right';\n  }\n\n  update() {\n    this.draw();\n\n    if (this.position.x >= this.options.max_x) {\n      this.direction = 'left';\n    }\n    if (this.position.x <= this.options.min_x) {\n      this.direction = 'right';\n    }\n\n    switch (this.direction) {\n      case 'left':\n        this.position.x -= this.velocity.x;\n        break;\n\n      case 'right':\n        this.position.x += this.velocity.x;\n        break;\n    }\n  }\n\n  move(direction: 'left' | 'right', x: number) {\n    switch (direction) {\n      case 'left':\n        this.position.x -= x;\n        this.options.min_x -= x;\n        this.options.max_x -= x;\n        break;\n\n      case 'right':\n        this.position.x += x;\n        this.options.min_x += x;\n        this.options.max_x += x;\n        break;\n    }\n  }\n}\n","export function createImage(imageSource: string) {\n  const image = new Image();\n  image.src = imageSource;\n  return image;\n}\n","type LocationObjects = {\n  image: HTMLImageElement;\n  x: number;\n  y: number;\n  z: number;\n}[];\n\nexport abstract class Level {\n  protected readonly floorPlatformYPosition: number;\n\n  constructor() {\n    this.floorPlatformYPosition = 470;\n  }\n\n  abstract background(): LocationObjects;\n  abstract platforms(): LocationObjects;\n  abstract goombas(): LocationObjects;\n}\n","import { createImage } from '../createImage';\nimport backgroundImageSource from '../img/background.png';\nimport goombaImageSource from '../img/goomba.png';\nimport hillsImageSource from '../img/hills.png';\nimport platformImageSource from '../img/platform.png';\nimport platformSmallMoreTallImageSource from '../img/platformSmallMoreTall.png';\nimport platformSmallTallImageSource from '../img/platformSmallTall.png';\nimport { Level } from './Level';\n\nexport class Level1 extends Level {\n  /**\n   * width: 11643\n   */\n  private readonly backgroundImage: HTMLImageElement;\n  /**\n   * width: 7545\n   */\n  private readonly hillsImage: HTMLImageElement;\n  /**\n   * width: 580\n   */\n  private readonly platformImage: HTMLImageElement;\n  /**\n   * width:291\n   */\n  private readonly platformSmallTallImage: HTMLImageElement;\n  /**\n   * width:291\n   */\n  private readonly platformSmallMoreTallImage: HTMLImageElement;\n  /**\n   * width:76\n   * height: 85\n   */\n  private readonly goombaImage: HTMLImageElement;\n\n  constructor() {\n    super();\n    this.backgroundImage = createImage(backgroundImageSource);\n    this.hillsImage = createImage(hillsImageSource);\n    this.platformImage = createImage(platformImageSource);\n    this.platformSmallTallImage = createImage(platformSmallTallImageSource);\n    this.platformSmallMoreTallImage = createImage(platformSmallMoreTallImageSource);\n    this.goombaImage = createImage(goombaImageSource);\n  }\n\n  background() {\n    return [\n      {\n        image: this.backgroundImage,\n        x: -1,\n        y: -1,\n        z: 0,\n      },\n      {\n        image: this.hillsImage,\n        x: -1,\n        y: -1,\n        z: 1,\n      },\n    ];\n  }\n\n  platforms() {\n    return [\n      {\n        image: this.platformImage,\n        x: -2,\n        y: this.floorPlatformYPosition,\n        z: 0,\n      },\n      {\n        image: this.platformImage,\n        x: 577,\n        y: this.floorPlatformYPosition,\n        z: 0,\n      },\n      {\n        image: this.platformImage,\n        x: 1156,\n        y: this.floorPlatformYPosition,\n        z: 0,\n      },\n      {\n        image: this.platformSmallTallImage,\n        x: 1445,\n        y: 250,\n        z: -1,\n      },\n      {\n        image: this.platformImage,\n        x: 2036,\n        y: this.floorPlatformYPosition,\n        z: 0,\n      },\n      {\n        image: this.platformSmallMoreTallImage,\n        x: 2036,\n        y: 46,\n        z: -1,\n      },\n      {\n        image: this.platformSmallTallImage,\n        x: 2327 - 2,\n        y: 250,\n        z: -2,\n      },\n    ];\n  }\n\n  goombas() {\n    return [\n      {\n        image: this.goombaImage,\n        x: 600,\n        y: this.floorPlatformYPosition - this.goombaImage.height,\n        z: 1,\n        max_x: 800,\n        min_x: 600,\n      },\n      {\n        image: this.goombaImage,\n        x: 1450,\n        y: 165,\n        z: 1,\n        min_x: 1450,\n        max_x: 1650,\n      },\n    ];\n  }\n}\n","export class Platform {\n  width: number;\n  height: number;\n  position: { x: number; y: number };\n  image: HTMLImageElement;\n\n  constructor(\n    private context: CanvasRenderingContext2D,\n    { x, y, image }: { x: number; y: number; image: HTMLImageElement }\n  ) {\n    this.position = { x, y };\n    this.image = image;\n    this.width = image.width;\n    this.height = image.height;\n  }\n\n  draw() {\n    this.context.drawImage(this.image, this.position.x, this.position.y);\n  }\n}\n","import { createImage } from './createImage';\nimport { GameKeys } from './GameKeys';\nimport spriteRunLeftImageSource from './img/spriteRunLeft.png';\nimport spriteRunRightImageSource from './img/spriteRunRight.png';\nimport spriteStandLeftImageSource from './img/spriteStandLeft.png';\nimport spriteStandRightImageSource from './img/spriteStandRight.png';\n\nexport class Player {\n  public readonly speed: number;\n  public readonly position: { x: number; y: number };\n  public readonly velocity: { x: number; y: number };\n\n  public get width() {\n    return this._width;\n  }\n  public get height() {\n    return this._height;\n  }\n\n  private readonly jumpHeight: number;\n  private _height: number;\n  private _width: number;\n  private frames: number;\n  private sprites: {\n    stand: {\n      right: HTMLImageElement;\n      left: HTMLImageElement;\n      cropWidth: number;\n      width: number;\n    };\n    run: {\n      right: HTMLImageElement;\n      left: HTMLImageElement;\n      cropWidth: number;\n      width: number;\n    };\n  };\n  currentSprinte: HTMLImageElement;\n  currentCropWidth: number;\n\n  constructor(\n    private canvas: HTMLCanvasElement,\n    private context: CanvasRenderingContext2D,\n    private gravity: number\n  ) {\n    this.speed = 10;\n    this.jumpHeight = -25;\n    this.position = {\n      x: 100,\n      y: 100,\n    };\n    this.velocity = {\n      x: 0,\n      y: 20,\n    };\n\n    this._width = 66;\n    this._height = 150;\n\n    this.frames = 0;\n    this.sprites = {\n      stand: {\n        right: createImage(spriteStandRightImageSource),\n        left: createImage(spriteStandLeftImageSource),\n        cropWidth: 177,\n        width: 66,\n      },\n      run: {\n        right: createImage(spriteRunRightImageSource),\n        left: createImage(spriteRunLeftImageSource),\n        cropWidth: 341,\n        width: 127.875,\n      },\n    };\n    this.currentSprinte = this.sprites.stand.right;\n    this.currentCropWidth = this.sprites.stand.cropWidth;\n  }\n\n  draw() {\n    this.context.drawImage(\n      this.currentSprinte,\n      this.currentCropWidth * this.frames,\n      0,\n      this.currentCropWidth,\n      400,\n      this.position.x,\n      this.position.y,\n      this._width,\n      this.height\n    );\n  }\n\n  update() {\n    this.frames++;\n    if (\n      this.frames > 59 &&\n      (this.currentSprinte === this.sprites.stand.right ||\n        this.currentSprinte === this.sprites.stand.left)\n    ) {\n      this.frames = 0;\n    } else if (\n      this.frames > 29 &&\n      (this.currentSprinte === this.sprites.run.right ||\n        this.currentSprinte === this.sprites.run.left)\n    ) {\n      this.frames = 0;\n    }\n    this.draw();\n    this.position.y += this.velocity.y;\n    this.position.x += this.velocity.x;\n\n    if (this.position.y + this.height + this.velocity.y <= this.canvas.height) {\n      this.velocity.y += this.gravity;\n    }\n  }\n\n  jump() {\n    this.velocity.y = this.jumpHeight;\n  }\n\n  spriteSwitching(keys: GameKeys, lastKey?: 'right' | 'left') {\n    if (\n      keys.right.pressed &&\n      lastKey === 'right' &&\n      this.currentSprinte !== this.sprites.run.right\n    ) {\n      this.frames = 1;\n      this.currentSprinte = this.sprites.run.right;\n      this.currentCropWidth = this.sprites.run.cropWidth;\n      this._width = this.sprites.run.width;\n    } else if (\n      keys.left.pressed &&\n      lastKey === 'left' &&\n      this.currentSprinte !== this.sprites.run.left\n    ) {\n      this.frames = 1;\n      this.currentSprinte = this.sprites.run.left;\n      this.currentCropWidth = this.sprites.run.cropWidth;\n      this._width = this.sprites.run.width;\n    } else if (\n      !keys.right.pressed &&\n      lastKey === 'right' &&\n      this.currentSprinte !== this.sprites.stand.right\n    ) {\n      this.frames = 1;\n      this.currentSprinte = this.sprites.stand.right;\n      this.currentCropWidth = this.sprites.stand.cropWidth;\n      this._width = this.sprites.stand.width;\n    } else if (\n      !keys.left.pressed &&\n      lastKey === 'left' &&\n      this.currentSprinte !== this.sprites.stand.left\n    ) {\n      this.frames = 1;\n      this.currentSprinte = this.sprites.stand.left;\n      this.currentCropWidth = this.sprites.stand.cropWidth;\n      this._width = this.sprites.stand.width;\n    }\n  }\n}\n","import { GameKeys } from './GameKeys';\nimport { GenericObject, Goomba } from './GenericObject';\nimport { Level } from './levels/Level';\nimport { Level1 } from './levels/level.1';\nimport { Platform } from './Platform';\nimport { Player } from './Player';\n\nexport class Game {\n  canvas: HTMLCanvasElement;\n  context: CanvasRenderingContext2D;\n  floorPlatformYPosition: number;\n  genericObjects!: GenericObject[];\n  goombas!: Goomba[];\n  gravity: number;\n  keys!: GameKeys;\n  lastKey?: 'right' | 'left';\n  level: Level1;\n  platforms!: Platform[];\n  player!: Player;\n  playerIsOnTheFloor!: boolean;\n  scrollOffset!: number;\n\n  constructor() {\n    this.canvas = document.querySelector('canvas') as HTMLCanvasElement;\n    this.context = this.canvas.getContext('2d') as CanvasRenderingContext2D;\n    this.canvas.width = 1024;\n    this.canvas.height = 576;\n    this.gravity = 1.5;\n\n    this.floorPlatformYPosition = 470;\n\n    this.level = new Level1();\n\n    this.init();\n    this.animate();\n    this.subscribeKeys();\n  }\n\n  init() {\n    this.scrollOffset = 0;\n    this.playerIsOnTheFloor = false;\n    this.keys = new GameKeys();\n\n    this.createBackground();\n    this.createPlatforms();\n    this.createGoombas();\n\n    this.player = new Player(this.canvas, this.context, this.gravity);\n  }\n\n  private createBackground() {\n    this.genericObjects = this.level\n      .background()\n      .sort(p => p.z)\n      .map(\n        b =>\n          new GenericObject(this.context, {\n            x: b.x,\n            y: b.y,\n            image: b.image,\n          })\n      );\n  }\n\n  private createPlatforms() {\n    this.platforms = this.level\n      .platforms()\n      .sort(p => p.z)\n      .map(\n        p =>\n          new Platform(this.context, {\n            x: p.x,\n            y: p.y,\n            image: p.image,\n          })\n      );\n  }\n\n  private createGoombas() {\n    this.goombas = this.level\n      .goombas()\n      .sort(p => p.z)\n      .map(\n        p =>\n          new Goomba(this.context, {\n            x: p.x,\n            y: p.y,\n            max_x: p.max_x,\n            min_x: p.min_x,\n            image: p.image,\n          })\n      );\n  }\n\n  animate() {\n    requestAnimationFrame(() => this.animate());\n    this.context.fillStyle = 'white';\n    this.context.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n    this.genericObjects.forEach(genericObject => genericObject.draw());\n    this.platforms.forEach(platform => platform.draw());\n    this.goombas.forEach(goomba => goomba.update());\n    this.player.update();\n\n    const player_max_position_x = 400;\n    const player_min_position_x = 100;\n    const parallax_multiplier = 0.66;\n\n    if (this.keys.right.pressed && this.player.position.x < player_max_position_x) {\n      this.player.velocity.x = this.player.speed;\n    } else if (\n      (this.keys.left.pressed && this.player.position.x > player_min_position_x) ||\n      (this.keys.left.pressed && this.scrollOffset === 0 && this.player.position.x > 0)\n    ) {\n      this.player.velocity.x = -this.player.speed;\n    } else {\n      this.player.velocity.x = 0;\n\n      if (this.keys.right.pressed) {\n        this.scrollOffset += this.player.speed;\n        this.platforms.forEach(platform => {\n          platform.position.x -= this.player.speed;\n        });\n        this.genericObjects.forEach(genericObject => {\n          genericObject.position.x -= this.player.speed * parallax_multiplier;\n        });\n        this.goombas.forEach(goomba => {\n          goomba.move('left', this.player.speed);\n        });\n      } else if (this.keys.left.pressed && this.scrollOffset > 0) {\n        this.scrollOffset -= this.player.speed;\n        this.platforms.forEach(platform => {\n          platform.position.x += this.player.speed;\n        });\n        this.genericObjects.forEach(genericObject => {\n          genericObject.position.x += this.player.speed * parallax_multiplier;\n        });\n        this.goombas.forEach(goomba => {\n          goomba.move('right', this.player.speed);\n        });\n      }\n    }\n\n    // platformCollisionDetect\n    this.platforms.forEach(platform => {\n      if (\n        this.player.position.y + this.player.height <= platform.position.y &&\n        this.player.position.y + this.player.height + this.player.velocity.y >=\n          platform.position.y &&\n        this.player.position.x + this.player.width >= platform.position.x &&\n        this.player.position.x <= platform.position.x + platform.width\n      ) {\n        this.player.velocity.y = 0;\n        this.playerIsOnTheFloor = true;\n      }\n    });\n\n    // spriteSwitching\n    this.player.spriteSwitching(this.keys, this.lastKey);\n\n    // win condition\n    const last_platform = this.level\n      .platforms()\n      .sort(p => p.x + p.image.width)\n      .reverse()\n      .pop();\n    const scrollOffsetPositionWin = last_platform!.image.width * 5 + 300 - 2;\n    if (this.scrollOffset > scrollOffsetPositionWin) {\n    }\n\n    // lose condition\n    if (this.player.position.y > this.canvas.height) {\n      this.init();\n    }\n  }\n\n  subscribeKeys() {\n    window.addEventListener('keydown', ({ key }) => {\n      switch (key) {\n        case 'ArrowLeft':\n          this.keys.left.pressed = true;\n          this.lastKey = 'left';\n          break;\n\n        case 'ArrowDown':\n          break;\n\n        case 'ArrowRight':\n          this.keys.right.pressed = true;\n          this.lastKey = 'right';\n          break;\n\n        case 'ArrowUp':\n          if (!this.keys.up.pressed && this.playerIsOnTheFloor) {\n            this.playerIsOnTheFloor = false;\n            this.player.jump();\n          }\n          this.keys.up.pressed = true;\n          break;\n      }\n    });\n\n    window.addEventListener('keyup', ({ key }) => {\n      switch (key) {\n        case 'ArrowLeft':\n          this.keys.left.pressed = false;\n          break;\n\n        case 'ArrowDown':\n          break;\n\n        case 'ArrowRight':\n          this.keys.right.pressed = false;\n          break;\n\n        case 'ArrowUp':\n          this.keys.up.pressed = false;\n          break;\n      }\n    });\n  }\n}\n","import './style.css';\nimport { Game } from './game/Game';\n\nconst _ = new Game();\n"]}